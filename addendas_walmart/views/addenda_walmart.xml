<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">
        <template name="Walmart" id="add_walmart">
          <!-- Variables de datos restantes -->
          <t t-set="sdato" t-value="'FaltaDato'"/>
          <!-- Datos del xml generado por el SAT -->
          <t t-set="xml" t-value="record._get_values_addenda()"/>
          <t t-set="format_float" t-value="xml.get('format_float')"/>
          <t t-set="format_string" t-value="xml.get('format_string')"/>
          <t t-set="tax_objected" t-value="xml.get('tax_objected')"/>
          <t t-set="currency_precision" t-value="xml.get('currency_precision')"/>
          <t t-set="serie" t-value="xml.get('serie_number')"/>
          <t t-set="folio" t-value="xml.get('folio_number')"/>
          <t t-set="subtotal" t-value="format_float(xml.get('total_price_subtotal_before_discount') if tax_objected == '02' else record.amount_total + xml.get('total_price_discount'), currency_precision)"/>
          <t t-set="descuentos" t-value="format_float(xml.get('total_price_discount'), currency_precision) if not record.currency_id.is_zero(xml.get('total_price_discount')) else None"/>
          <t t-set="total" t-value="format_float(record.amount_total, currency_precision)"/>
          <t t-set="documentType" t-value="xml.get('document_type')"/>
          <t t-set="number_order" t-value="record.sale_order_id.number_order"/>
          <t t-set="date_order" t-value="record.sale_order_id.date_order.year"/>
          <t t-set="amount_to_text" t-value="record.amount_to_text"/>
          <t t-set="entry_note_folio" t-value="record.sale_order_id.entry_note_folio"/>
          <t t-set="date_entry_note_folio" t-value="record.sale_order_id.date_entry_note_folio"/>
          <t t-set="gln_buyer" t-value="record.partner_id.gln"/>
          <t t-set="number_provider" t-value="record.partner_id.shipping_number_provider"/>
          <t t-set="gln_shipTo" t-value="record.partner_id.shipping_number_store"/>
          <t t-set="name" t-value="record.partner_id.name"/>
          <t t-set="street" t-value="record.partner_id.street"/>
          <t t-set="city" t-value="record.partner_id.city"/>
          <t t-set="postal" t-value="record.partner_id.zip"/>
          <t t-set="number_cedis" t-value="record.partner_id.shipping_number_cedis"/>
      
          <AddendaWalmart t-att-Anio="2023" t-att-numeroProveedor="number_provider" t-att-ordenCompra="number_order" t-att-unidadCEDIS="number_cedis"/>

        </template>
        <record id="add_walmart" model="ir.ui.view">
            <field name="l10n_mx_edi_addenda_flag">True</field>
        </record>
    </data>
</odoo>