<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">
        <template name="Walmart" id="add_walmart">
            <t t-if="record.move_type == 'out_invoice'">
                <t t-set="xml" t-value="record._get_values_addenda()"/>
                <t t-set="format_float" t-value="xml.get('format_float')"/>
                <t t-set="format_string" t-value="xml.get('format_string')"/>
                <t t-set="tax_objected" t-value="xml.get('tax_objected')"/>
                <t t-set="currency_precision" t-value="xml.get('currency_precision')"/>

                <t t-set="sdato" t-value="'FaltaDato'"/>
                <t t-set="lin" t-value="'|'"/>

                <!-- Datos de la etiqueta H0 -->
                <t t-set="rfcrec" t-value="xml.get('customer_rfc')"/>
                <t t-set="nocer" t-value="xml.get('certificate_number')"/>
                <t t-set="numlev" t-value="record.company_id.field_num_levicom"/>
                <t t-set="taghcero" t-value="'\r'+'\n'+'[H0]'+'|'+rfcrec+'|'+str(numlev)+'|'+'4.93'+'|'+'2012'+'|'+nocer+'|'+'D00'+'|'+'P'+'|'+'|'+'|'"/>

                <!-- Datos de la etiqueta H1 -->
                <t t-set="serie" t-value="xml.get('serie_number')"/>
                <t t-set="folio" t-value="xml.get('folio_number')"/>
                <t t-set="fecha" t-value="xml.get('cfdi_date')"/>
                <t t-set="pmr" t-value="xml.get('payment_method_code')"/>
                <t t-set="condp" t-value="record.invoice_payment_term_id.name"/>
                <t t-if="condp == False">
                    <t t-set="condp" t-value="''"/>
                </t>
                <t t-set="fundo" t-value="'O'"/>
                <t t-set="tipcomp" t-value="xml.get('document_type')"/>
                <t t-set="descuento" t-value="format_float(xml.get('total_price_discount'), currency_precision) if not record.currency_id.is_zero(xml.get('total_price_discount')) else None"/>

                <t t-if="descuento == None">
                    <t t-set="descuento" t-value="''"/>
                </t>

                <t t-set="metpag" t-value="xml.get('payment_policy')"/>

                <t t-if="metpag == PPD">
                    <t t-set="metpag" t-value="'PPD-Pago en parcialidades o diferido'"/>
                </t>
                <t t-else="">
                    <t t-set="metpag" t-value="'PUE-Pago en una sola exhibicion'"/>
                </t>

                <t t-set="lugexped" t-value="xml.get('issued_address').zip or xml.get('supplier').zip"/>
                <t t-set="tipdo" t-value="'FACTURA COMERCIAL'"/>
                <t t-set="numpr" t-value="record.partner_shipping_id.shipping_number_provider"/>
                <t t-set="tsiva" t-value="'16'"/>
                <t t-set="numti" t-value="record.partner_shipping_id.shipping_number_store"/>
                <t t-set="moned" t-value="record.currency_id.name"/>
                <t t-set="fenac" t-value="record.sale_order_id.date_of_deli" t-options="{'format': 'yyyy-MM-dd'}"/>
                <!--t t-if="fenac == False">
                    <t t-set="fenac" t-value="''"/>
                </t-->
                <t t-set="numor" t-value="record.sale_order_id.number_order"/>
                <t t-if="numor == False">
                    <t t-set="numor" t-value="''"/>
                </t>
                <t t-set="fechor" t-value="record.sale_order_id.date_of_order" t-options="{'format': 'yyyy-MM-dd'}"/>
                <!--t t-if="fechor == False">
                    <t t-set="fechor" t-value="''"/>
                </t-->
                <t t-set="fenacc" t-value="'TEXTO DE PRUEBA'"/>
                <t t-set="totex" t-value="record.amount_to_text"/>
                <t t-set="ilcfd" t-value="'D00'"/>
                <t t-set="namcomercial" t-value="0"/>
                <t t-foreach="record.partner_id.child_ids" t-as="child">
                    <t t-if="child.type == 'contact'">
                        <t t-set="namcomercial" t-value="child.name"/>
                    </t>
                </t>
                <t t-set="numcertif" t-value="record.company_id.field_num_certificate"/>

                <t t-set="taghuno" t-value="'\r'+'\n'+'[H1]'+lin+serie+lin+folio+lin+str(numcertif)+lin+fecha+lin+str(numor)+lin+str(fechor)+lin+'PPD-Pago en parcialidades o diferido'+lin+condp+lin+fundo+   lin+'FACTURA COMERCIAL'+lin+lin+lin+lin+lin+lin+lin+lin+lin+lin+'2012'+lin+lin+lin+lin+str(numpr)+lin+tsiva+lin+str(numti)+   lin+lin+lin+lin+'Credito'+lin+moned+lin+lin+str(fenac)+lin+str(namcomercial)+lin+lin+lin+lin+lin+lin+lin+lin+lin+totex+lin+ilcfd+lin+   'P'+lin+lin+'1'+lin+lin+'0'+lin+lin+lin"/>


                <!-- Datos de la etiqueta H2 -->
                <t t-set="namem" t-value="xml.get('supplier').name"/>
                <t t-set="rfcem" t-value="xml.get('supplier').vat"/>
                <t t-set="glnem" t-value="record.company_id.field_gln_company"/>
                <t t-set="street" t-value="record.company_id.street"/>
                <t t-set="reference" t-value="record.company_id.street2 if record.company_id.street2 else ''"/>
                <t t-set="numext" t-value="record.company_id.street_number"/>
                <t t-set="numint" t-value="record.company_id.street_number2 if record.company_id.street_number2 else ''"/>
                <t t-set="colony" t-value="record.company_id.l10n_mx_edi_colony"/>
                <t t-set="locality" t-value="record.company_id.l10n_mx_edi_locality"/>
                <t t-set="city" t-value="record.company_id.city"/>
                <t t-set="state" t-value="record.company_id.state_id.name"/>
                <t t-set="country" t-value="record.company_id.country_id.name"/>
                <t t-set="codpost" t-value="record.company_id.zip"/>
                <t t-set="regfiscal" t-value="record.company_id.l10n_mx_edi_fiscal_regime"/>
                <t t-set="phoneem" t-value="record.company_id.phone"/>
                <t t-set="emailem" t-value="record.company_id.email"/>
                <t t-set="taghdos" t-value="'\r'+'\n'+'[H2]'+lin+namem+lin+rfcem+lin+str(glnem)+lin+street+lin+str(numext)+lin+str(numint)+   lin+colony+lin+lin+lin+city+lin+state+lin+country+lin+str(    codpost)+lin+lin+lin+lin+lin+lin+lin+lin+lin+lin+lin+lin"/>

                <!-- CreaciÃ³n de la etiqueta H3 esta contiene los mismos datos que la etiqueta H2 -->
                <t t-set="taghtres" t-value="'\r'+'\n'+'[H3]'+lin+namem+lin+rfcem+lin+str(glnem)+lin+street+lin+str(numext)+lin+str(numint)+   lin+colony+lin+lin+lin+city+lin+state+lin+country+lin+str(codpost)+lin+lin+lin+lin+lin+lin+lin+lin+lin+lin+lin+lin"/>

                <!-- Datos de la etiqueta H4 -->
                <t t-set="namrec" t-value="xml.get('customer').commercial_partner_id.name"/>
                <t t-set="rfcrec" t-value="xml.get('customer_rfc')"/>
                <t t-set="glnpricli" t-value="record.partner_id.gln"/>
                <t t-if="glnpricli == False">
                    <t t-set="glnpricli" t-value="''"/>
                </t>
                <t t-set="streetrec" t-value="record.partner_id.street"/>
                <t t-set="numextrec" t-value="record.partner_id.street_number"/>
                <t t-set="numintrec" t-value="record.partner_id.street_number2"/>
                <t t-set="colonyrec" t-value="record.partner_id.l10n_mx_edi_colony "/>
                <t t-set="localityrec" t-value="record.partner_id.l10n_mx_edi_locality"/>
                <t t-set="cityrec" t-value="record.partner_id.city"/>
                <t t-set="staterec" t-value="record.partner_id.state_id.name"/>
                <t t-set="countryrec" t-value="record.partner_id.country_id.name"/>
                <t t-set="codpostrec" t-value="record.partner_id.zip"/>
                <t t-set="emailrec" t-value="record.partner_id.email"/>
                <t t-if="emailrec == False">
                    <t t-set="emailrec" t-value="''"/>
                </t>
                <t t-set="taghcuatro" t-value="'\r'+'\n'+'[H4]'+lin+namrec+lin+rfcrec+lin+str(glnpricli)+lin+streetrec+lin+str(numextrec)+lin+str(numintrec)+lin+   str(colonyrec)+lin+lin+lin+str(cityrec)+lin+str(staterec)+lin+str(countryrec)+lin+str(codpostrec)+lin+lin+lin+lin+lin+lin+   lin+lin+lin+lin+lin+lin"/>

                <!-- Datos de la etiqueta H5 -->
                <t t-set="nament" t-value="record.partner_shipping_id.name"/>
                <t t-set="rfcent" t-value="xml.get('customer_rfc')"/>
                <t t-set="glndirenv" t-value="record.partner_shipping_id.gln or ''"/>
                <t t-if="glndirenv == False">
                    <t t-set="glndirenv" t-value="''"/>
                </t>
                <t t-set="streetent" t-value="record.partner_shipping_id.street"/>
                <t t-set="numintent" t-value="record.partner_shipping_id.street_number"/>
                <t t-set="numextent" t-value="record.partner_shipping_id.street_number2"/>
                <t t-set="colonyent" t-value="record.partner_shipping_id.l10n_mx_edi_colony"/>
                <t t-set="localityent" t-value="record.partner_shipping_id.l10n_mx_edi_locality"/>
                <t t-set="cityent" t-value="record.partner_shipping_id.city"/>
                <t t-set="stateent" t-value="record.partner_shipping_id.state_id.name"/>
                <t t-set="countryent" t-value="record.partner_shipping_id.country_id.name"/>
                <t t-set="codpostent" t-value="record.partner_shipping_id.zip"/>
                <t t-set="phoneent" t-value="record.partner_shipping_id.phone"/>
                <t t-set="taghcinco" t-value="'\r'+'\n'+'[H5]'+lin+nament+lin+rfcent+lin+str(glndirenv)+lin+streetent+lin+str(numintent)+lin+str(numextent)+lin+   colonyent+lin+localityent+lin+''+lin+cityent+lin+stateent+lin+countryent+lin+codpostent+lin+lin+lin+lin+lin+   lin+lin+lin+lin+lin+lin+lin"/>
                <!-- Datos de la etiqueta D -->
                <t t-set="tagdatad" t-value="''.join(map(lambda x: ('\r'+'\n'+'[D]'+lin+x.product_id.barcode+lin+lin+   x.product_id.name+lin+lin+str(x.quantity)+lin+x.product_id.uom_id.name+lin+str(x.product_id.uom_id.name)+lin+str('%.2f'% round((x.price_subtotal/x.quantity),2))+lin+'0'+   lin+'Mercadeo'+lin+'0'+lin+lin+lin+lin+lin+lin+lin+lin+lin+lin+lin+lin+lin+str(x.price_subtotal)+lin+''.join(map(lambda t:    (str(int(t.amount))+lin+str(0)+lin), x.tax_ids))+str(int(x.quantity))+lin+lin+lin+lin+   str(x.product_id.default_code)+lin+str(x.product_id.barcode)+lin+lin+lin+lin+str('%.2f'% x.price_subtotal)+lin+str('%.2f'% x.price_subtotal)+lin+str('%.2f'% ((x.price_total/1.16)*0.16))+   lin+str(0)+lin+lin+lin+lin+lin+lin+lin+lin+lin+lin+lin+lin+lin+lin+lin+lin+lin),record.invoice_line_ids))"/>
                <!-- Falta confirmacion de dato -->
                <t t-set="ordercomp" t-value="record.sale_order_id.number_order"/>
                <t t-if="ordercomp == False">
                    <t t-set="ordercomp" t-value="''"/>
                </t>
                <t t-set="tagd" t-value="tagdatad+lin+lin+lin+lin+lin+lin+lin+lin+lin+lin+lin+lin+lin+lin+lin+lin+lin"/>

                <!-- Datos de la etiqueta S -->
                <t t-set="impsub" t-value="'%.2f'% float(record.amount_untaxed)"/>
                <t t-set="imptot" t-value="'%.2f'% float(record.amount_total)"/>
                <t t-set="subts" t-value="format_float(xml.get('total_price_subtotal_before_discount') if tax_objected == '02' else record.amount_total + xml.get('total_price_discount'), currency_precision)"/>
                <t t-set="descs" t-value="'0'"/>
                <t t-set="impiva" t-value="0"/>
                <t t-set="impts" t-value="format_float(xml.get('balance_multiplicator') * xml.get('tax_details_transferred')['tax_amount_currency'], currency_precision) if xml.get('tax_details_transferred')['tax_details'] else None"/>
                <t t-set="totpa" t-value="record.amount_total"/>
                <!-- Articulos facturados (TOTALES) -->
                <t t-set="artfac" t-value="0"/>
                <t t-foreach="record.invoice_line_ids" t-as="rec">
                    <t t-set="artfac" t-value="artfac + rec.quantity"/>
                </t>
                <!-- Impuesto IVA -->
                <t t-set="tagiva" t-value="0"/>
                <t t-foreach="record.sale_order_id.order_line" t-as="tiv">
                    <t t-foreach="tiv.tax_id" t-as="tc">
                        <t t-if="tc.description[0:3] == 'IVA'">
                            <t t-set="tagiva" t-value="tc.amount"/>
                            <t t-if="tc.amount != 0">
                                <t t-set="impiva" t-value="impiva + float('%.2f'% ((tiv.price_total/1.16)*0.16))"/>
                                <!-- <t t-set="tagiva" t-value="tc.amount * 0.16" />
                                <t t-else="">
                                    <t t-set="tagiva" t-value="0.00" />
                                </t> -->
                            </t>
                        </t>
                    </t>
                </t>
                <!-- Impuesto IEPS -->
                <!-- <t t-set="tagieps" t-value="0"/>   str(artfac)+lin+str(tagiva)+lin+str(tagieps) -->
                <!-- Valor 0 - 16 campos por confirmar valor -->
                <t t-set="vc" t-value="0"/>
                <!-- Cantidad de items -->
                <t t-set="cantpr" t-value="0"/>
                <t t-foreach="record.invoice_line_ids" t-as="rec">
                    <t t-set="cantpr" t-value="cantpr + 1"/>
                </t>
                <!-- Iva retenido / Monto de Iva Retenido -->
                <t t-set="ivret" t-value="0.00"/>
                <t t-set="tags" t-value="'\r'+'\n'+'[S]'+lin+str(impsub)+lin+descs+lin+descs+lin+descs+lin+descs+lin+descs+lin+str(impiva)+lin+descs+lin+str(imptot)+lin+str(impsub)+lin+   str(artfac)+lin+str(tagiva)+lin+str(vc)+lin+str(vc)+lin+str(vc)+lin+str(vc)+lin+str(vc)+lin+str(vc)+lin+   str(vc)+lin+str(vc)+lin+str(vc)+lin+str(vc)+lin+str(vc)+lin+str(vc)+lin+str(vc)+lin+str(vc)+lin+str(vc)+lin+str(vc)+lin+   str(cantpr)+lin+str(ivret)+lin+str(ivret)+lin+lin+lin+str(ivret)+lin+str(subts)+lin+str(subts)+lin+lin+lin"/>

                <!-- Datos de la etiqueta CO -->
                <t t-set="verco" t-value="4.0"/>
                <t t-set="metpagco" t-value="xml.get('payment_policy')"/>
                <t t-set="metpagformat" t-value="'MetodoPago'"/>
                <t t-if="metpagco == PPD">
                    <t t-set="metpagformat" t-value="'PPD-Pago en parcialidades o diferido'"/>
                </t>
                <t t-else="">
                    <t t-set="metpagformat" t-value="'PUE-Pago en una sola exhibicion'"/>
                </t>
                <t t-set="fetim" t-value="xml.get('cfdi_date')"/>
                <t t-set="monedfac" t-value="xml.get('currency_name')"/>
                <t t-set="condpagco" t-value="record.sale_order_id.payment_term_id.name"/>
                <!-- El valor tipo de cambio con valor 1 no existe en el xml que genera odoo -->
                <t t-set="formpagco" t-value="xml.get('payment_method_code')"/>
                <t t-set="cityco" t-value="record.company_id.city"/>
                <t t-set="stateco" t-value="record.company_id.state_id.name"/>
                <t t-set="zipco" t-value="record.company_id.zip"/>
                <!-- <t t-set="accountno" t-value="record.partner_bank_id.acc_number"/>
                <t t-if="accountno == False"> 
                  <t t-set="accountno" t-value="record.partner_id.bank_ids.last_acc_number"/>
                </t> -->
                <t t-set="accountno" t-value="record.partner_bank_id.acc_number or ''"/>
                <t t-set="rfcco" t-value="xml.get('supplier').vat or ''"/>
                <t t-set="namco" t-value="xml.get('supplier').name or ''"/>
                <t t-set="streetco" t-value="record.company_id.street"/>
                <t t-set="numextco" t-value="record.company_id.street_number"/>
                <t t-set="colonyco" t-value="record.company_id.l10n_mx_edi_colony"/>
                <t t-set="countryco" t-value="record.company_id.country_id.name"/>
                <t t-set="regimenfi" t-value="record.partner_id.l10n_mx_edi_fiscal_regime"/>
                <t t-set="regimenfitext" t-value="''"/>
                <t t-if="regimenfi == '601'">
                    <t t-set="regimenfitext" t-value="str(regimenfi) + str(' - ') + str('General de Ley Personas Morales')"/>
                </t>
                <t t-if="regimenfi == '603'">
                    <t t-set="regimenfitext" t-value="str(regimenfi) + str(' - ') + str('Personas Morales con Fines no Lucrativos')"/>
                </t>
                <t t-if="regimenfi == '605'">
                    <t t-set="regimenfitext" t-value="str(regimenfi) + str(' - ') + str('Sueldos y Salarios e Ingresos Asimilados a Salarios')"/>
                </t>
                <t t-if="regimenfi == '606'">
                    <t t-set="regimenfitext" t-value="str(regimenfi) + str(' - ') + str('Arrendamiento')"/>
                </t>
                <t t-if="regimenfi == '607'">
                    <t t-set="regimenfitext" t-value="str(regimenfi) + str(' - ') + str('RÃ©gimen de EnajenaciÃ³n o AdquisiciÃ³n de Bienes')"/>
                </t>
                <t t-if="regimenfi == '608'">
                    <t t-set="regimenfitext" t-value="str(regimenfi) + str(' - ') + str('DemÃ¡s ingresos')"/>
                </t>
                <t t-if="regimenfi == '609'">
                    <t t-set="regimenfitext" t-value="str(regimenfi) + str(' - ') + str('ConsolidaciÃ³n')"/>
                </t>
                <t t-if="regimenfi == '610'">
                    <t t-set="regimenfitext" t-value="str(regimenfi) + str(' - ') + str('Residentes en el Extranjero sin Establecimiento Permanente en MÃ©xico')"/>
                </t>
                <t t-if="regimenfi == '611'">
                    <t t-set="regimenfitext" t-value="str(regimenfi) + str(' - ') + str('Ingresos por Dividendos (socios y accionistas')"/>
                </t>
                <t t-if="regimenfi == '612'">
                    <t t-set="regimenfitext" t-value="str(regimenfi) + str(' - ') + str('Personas FÃ­sicas con Actividades Empresariales y Profesionales')"/>
                </t>
                <t t-if="regimenfi == '614'">
                    <t t-set="regimenfitext" t-value="str(regimenfi) + str(' - ') + str('Ingresos por intereses')"/>
                </t>
                <t t-if="regimenfi == '615'">
                    <t t-set="regimenfitext" t-value="str(regimenfi) + str(' - ') + str('RÃ©gimen de los ingresos por obtenciÃ³n de premios')"/>
                </t>
                <t t-if="regimenfi == '616'">
                    <t t-set="regimenfitext" t-value="str(regimenfi) + str(' - ') + str('Sin obligaciones fiscales')"/>
                </t>
                <t t-if="regimenfi == '620'">
                    <t t-set="regimenfitext" t-value="str(regimenfi) + str(' - ') + str('Sociedades Cooperativas de ProducciÃ³n que optan por diferir sus ingresos')"/>
                </t>
                <t t-if="regimenfi == '621'">
                    <t t-set="regimenfitext" t-value="str(regimenfi) + str(' - ') + str('IncorporaciÃ³n Fiscal')"/>
                </t>
                <t t-if="regimenfi == '622'">
                    <t t-set="regimenfitext" t-value="str(regimenfi) + str(' - ') + str('Actividades AgrÃ­colas, Ganaderas, SilvÃ­colas y Pesqueras')"/>
                </t>
                <t t-if="regimenfi == '623'">
                    <t t-set="regimenfitext" t-value="str(regimenfi) + str(' - ') + str('Opcional para Grupos de Sociedades')"/>
                </t>
                <t t-if="regimenfi == '624'">
                    <t t-set="regimenfitext" t-value="str(regimenfi) + str(' - ') + str('Coordinados')"/>
                </t>
                <t t-if="regimenfi == '625'">
                    <t t-set="regimenfitext" t-value="str(regimenfi) + str(' - ') + str('RÃ©gimen de las Actividades Empresariales con ingresos a travÃ©s de Plataformas TecnolÃ³gicas')"/>
                </t>
                <t t-if="regimenfi == '626'">
                    <t t-set="regimenfitext" t-value="str(regimenfi) + str(' - ') + str('RÃ©gimen Simplificado de Confianza - RESICO')"/>
                </t>
                <t t-if="regimenfi == '628'">
                    <t t-set="regimenfitext" t-value="str(regimenfi) + str(' - ') + str('Hidrocarburos')"/>
                </t>
                <t t-if="regimenfi == '629'">
                    <t t-set="regimenfitext" t-value="str(regimenfi) + str(' - ') + str('De los RegÃ­menes Fiscales Preferentes y de las Empresas Multinacionales')"/>
                </t>
                <t t-if="regimenfi == '630'">
                    <t t-set="regimenfitext" t-value="str(regimenfi) + str(' - ') + str('EnajenaciÃ³n de acciones en bolsa de valores')"/>
                </t>
                <t t-set="regimenfi2" t-value="dict(record.partner_id._fields['l10n_mx_edi_fiscal_regime'].selection)"/>
                <t t-set="regimenficomp" t-value="dict(record.partner_id._fields['l10n_mx_edi_fiscal_regime'].selection)"/>
                <t t-set="lugexpedco" t-value="xml.get('issued_address').zip or xml.get('supplier').zip"/>
                <t t-set="impstrasla" t-value="format_float(xml.get('balance_multiplicator') * xml.get('tax_details_transferred')['tax_amount_currency'], currency_precision) if xml.get('tax_details_transferred')['tax_details'] else None"/>
                <t t-set="tagco" t-value="'\r'+'\n'+'[CO]'+lin+lin+lin+str(verco)+lin+str(fetim)+lin+'Ingreso'+lin+'PPD-Pago en parcialidades o diferido'+lin+condpagco+lin+   str(impsub)+lin+'1'+lin+'MXP'+lin+str(totpa)+lin+str(formpagco)+lin+cityco+', '+stateco+lin+str(accountno)+lin+rfcco+lin+namco+   lin+''.join(map(lambda x: (streetco+lin+str(numextco)+lin+colonyco+lin+cityco+lin+stateco+lin+countryco+lin+str(lugexpedco)+   lin),record.invoice_line_ids))+streetco+lin+numextco+lin+colonyco+lin+cityco+lin+stateco+lin+countryco+lin+str(lugexpedco)+lin+str(regimenfitext)+lin+str(rfcrec)+lin+str(namrec)+lin+str(streetrec)+lin+str(numextrec)+lin+str(colonyrec)+lin+str(cityrec)+lin+str(staterec)+lin+str(countryrec)+lin+str(codpostrec)+lin+''.join(map(lambda t: (str(t.quantity)+lin+t.product_id.uom_id.name+lin+   str(t.product_id.barcode)+lin+t.product_id.name+lin+str('%.2f'% round((t.price_subtotal/t.quantity),2))+lin+str('%.2f'% t.price_subtotal)+lin),   record.invoice_line_ids))+'IVA'+lin+str(16.00)+lin+str(impstrasla)+lin+str(impstrasla)+lin+lin"/>

                <t t-set="tagse" t-value="'\r'+'\n'+' '+'[SE]'+lin+'\n'"/>

                    <t t-set="NUMERODECONTRL" t-value="'\r'+'\n'+'UNB+UNOB:1+EDIID:ZZ+925485MX00:8+061231:1000+'+nocer"/>
                    <t t-set="FOLIODELAFACTURA" t-value="'\r'+'\n'+'UNH+1+INVOIC:D:01B:UN:AMC002BGM+380+'+folio+'+9'"/>
                    <t t-set="FECHADELAFACTURA" t-value="'\r'+'\n'+str(fecha)"/>
                    <t t-set="ORDENDECOMPRA" t-value="'\r'+'\n'+'RFFON:'+numor"/>
                    <t t-set="FECHADELAORDENDECOMPRA" t-value="'\r'+'\n'+str(fechor)"/>
                    <t t-set="SERIEDELAFACTURA" t-value="'\r'+'\n'+'RFFBT:'+serie"/>
                    <t t-set="NUMERODEAPROBACIONDEHACIENDA" t-value="'\r'+'\n'+'RFFATZ:'+nocer"/>
                    <t t-set="DATOSDELCOMPRADOR" t-value="'\r'+'\n'+'NADBY7507003100001::9'+street"/>
                    <t t-set="RFCDELCOMPRADOR" t-value="'\r'+'\n'+'RFF+GN:'+rfcrec"/>
                    <t t-set="NUMERODEPROVEEDORA9DIGITOS" t-value="'\r'+'\n'+'NADSU'+numpr"/>
                    <t t-set="DATOSDELLUGARDEENTREGA" t-value="'\r'+'\n'+'NADST7507003105136::9++'+streetrec"/>
                    <t t-set="MONEDANACIONALTIPODECAMBIO" t-value="'\r'+'\n'+'CUX+2:MXN:4'"/>
                    <t t-set="DIASDEVENCIMIENTO" t-value="'\r'+'\n'+'PAT+1++5:3:'+metpagco"/>
                    <t t-set="UPC" t-value="'\r'+'\n'+'LIN+1++'+':SRV::9'"/>
                    <t t-set="DESCRIPCIONDELARTICULO" t-value="'\r'+'\n'+'IMD+F++:::'"/>
                    <t t-set="PIEZASFACTURADAS" t-value="'\r'+'\n'+'QTY+47:'+str(cantpr)"/>
                    <t t-set="SUBTOTALDELALINEA" t-value="'\r'+'\n'+'MOA+203:'+str(subts)"/>
                    <t t-set="PRECIOUNITARIO" t-value="'\r'+'\n'+'PRI+AAA:'"/>
                    <t t-set="PORCENTAJEDELIVA" t-value="'\r'+'\n'+'TAX+7+VAT+++:::'+str(tsiva)"/>
                    <t t-set="MONTODELIVA" t-value="'\r'+'\n'+'MOA+124:'+str(impsub)"/>
                    <t t-set="NUMERODELINEAS" t-value="'\r'+'\n'+'CNT+2:'"/>
                    <t t-set="TOTALDELAFACTURA" t-value="'\r'+'\n'+'MOA+9:'+str(totpa)"/>
                    <t t-set="SUBTOTALDELAFACTURA" t-value="'\r'+'\n'+'MOA+79:'+str(subts)"/>
                    <t t-set="MONTOTOTALDELIVA" t-value="'\r'+'\n'+'MOA+124:'+str(imptot)"/>
                    <t t-set="NUMERODESEGMENTOS" t-value="'\r'+'\n'+'UNT+31+1'"/>
                    <t t-set="NUMERODECONTRL2" t-value="'\r'+'\n'+'UNZ+1+'+nocer"/>

                <t t-set="tagfinal" t-value="NUMERODECONTRL+FOLIODELAFACTURA+FECHADELAFACTURA+ORDENDECOMPRA+FECHADELAORDENDECOMPRA+SERIEDELAFACTURA+NUMERODEAPROBACIONDEHACIENDA+DATOSDELCOMPRADOR+RFCDELCOMPRADOR+NUMERODEPROVEEDORA9DIGITOS+DATOSDELLUGARDEENTREGA+MONEDANACIONALTIPODECAMBIO+DIASDEVENCIMIENTO+UPC+DESCRIPCIONDELARTICULO+PIEZASFACTURADAS+SUBTOTALDELALINEA+PRECIOUNITARIO+PORCENTAJEDELIVA+MONTODELIVA+NUMERODELINEAS+TOTALDELAFACTURA+SUBTOTALDELAFACTURA+MONTOTOTALDELIVA+NUMERODESEGMENTOS+NUMERODECONTRL2"/>
                <!--<t t-set="tagfinal" t-value="taghcero+taghuno+taghdos+taghtres+taghcuatro+taghcinco" />-->
                <lev1add:EDCINVOICE xmlns:lev1add="http://www.edcinvoice.com/lev1add" t-esc="tagfinal"/>
            </t>
            <t t-else="">
                <EDCINVOICE/>
            </t>
        </template>
        <record id="add_walmart" model="ir.ui.view">
            <field name="l10n_mx_edi_addenda_flag">True</field>
        </record>
    </data>
</odoo>